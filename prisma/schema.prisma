// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/client" // optional: client Ø±Ùˆ Ø¯Ø± src Ø¨Ø³Ø§Ø² Ø¨Ø±Ø§ÛŒ import Ø¢Ø³Ø§Ù†
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  userid       BigInt @id
  country      String
  countryName  String
  level        Int    @default(0)
  rank         Int    @default(0)
  government   String
  religion     String @default("islam")
  crowd        BigInt @default(15000000)
  capital      BigInt @default(150000000)
  dailyProfit  BigInt @default(100000000)
  satisfaction Int    @default(80)
  security     Int    @default(80)
  lottery      Int    @default(0)

  // Ù…Ù†Ø§Ø¨Ø¹
  oil         BigInt @default(0)
  iron        BigInt @default(0)
  gold        BigInt @default(0)
  uranium     BigInt @default(0)
  goldMine    BigInt @default(0)
  uraniumMine BigInt @default(0)
  ironMine    BigInt @default(0)
  refinery    BigInt @default(0)

  // Ø§Ø±ØªØ´ Ù¾Ø§ÛŒÙ‡
  soldier   BigInt @default(0)
  tank      BigInt @default(0)
  heavyTank BigInt @default(0)

  // Ø¬Ù†Ú¯Ù†Ø¯Ù‡â€ŒÙ‡Ø§
  su57 BigInt @default(0)
  f47  BigInt @default(0)
  f35  BigInt @default(0)
  j20  BigInt @default(0)
  f16  BigInt @default(0)
  f22  BigInt @default(0)
  am50 BigInt @default(0)
  b2   BigInt @default(0)
  tu16 BigInt @default(0)

  // Ù¾Ù‡Ù¾Ø§Ø¯Ù‡Ø§
  espionageDrone BigInt @default(0)
  suicideDrone   BigInt @default(0)
  crossDrone     BigInt @default(0)
  witnessDrone   BigInt @default(0)

  // Ù…ÙˆØ´Ú©â€ŒÙ‡Ø§
  simpleRocket      BigInt @default(0)
  crossRocket       BigInt @default(0)
  dotTargetRocket   BigInt @default(0)
  continentalRocket BigInt @default(0)
  ballisticRocket   BigInt @default(0)
  chemicalRocket    BigInt @default(0)
  hyperSonicRocket  BigInt @default(0)
  clusterRocket     BigInt @default(0)

  // Ú©Ø´ØªÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±ÛŒØ§ÛŒÛŒ
  battleship       BigInt @default(0)
  marineShip       BigInt @default(0)
  breakerShip      BigInt @default(0)
  nuclearSubmarine BigInt @default(0)

  // Ø¯ÙØ§Ø¹
  antiRocket BigInt @default(0)
  ironDome   BigInt @default(0)
  s400       BigInt @default(0)
  taad       BigInt @default(0)
  hq9        BigInt @default(0)
  acash      BigInt @default(0)

  lastCarBuildAt          DateTime? // Ø²Ù…Ø§Ù† Ø¢Ø®Ø±ÛŒÙ† Ø³Ø§Ø®Øª Ø®ÙˆØ¯Ø±Ùˆ
  lastConstructionBuildAt DateTime? // Ø²Ù…Ø§Ù† Ø¢Ø®Ø±ÛŒÙ† Ø³Ø§Ø®Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ø¹Ù…Ø±Ø§Ù†ÛŒ

  @@map("users")
}

model ProductionLine {
  id            Int      @id @default(autoincrement())
  ownerId       BigInt
  country       String
  name          String
  type          String // Ù…Ø«Ù„ 'car', 'game', 'movie'
  imageUrl      String
  imageFileId   String   @default("")
  dailyLimit    Int      @default(3)
  dailyOutput   Int      @default(15)
  setupCost     BigInt
  createdAt     DateTime @default(now())
  carName       String?
  unitPrice     Int? // ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯Ø±Ùˆ
  profitPercent Int? // ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ø±Ø§Ù†ÛŒ
}

model PendingProductionLine {
  id             Int       @id @default(autoincrement())
  ownerId        BigInt
  name           String
  type           String
  imageUrl       String
  imageFileId    String    @default("")
  description    String    @default("")
  dailyLimit     Int
  setupCost      BigInt
  country        String
  profitPercent  Int?
  createdAt      DateTime  @default(now())
  expiresAt      DateTime? // Ø²Ù…Ø§Ù† Ø§Ù†Ù‚Ø¶Ø§
  adminMessageId Int? // Ù¾ÛŒØ§Ù… Ø§Ø¯Ù…ÛŒÙ† Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ±Ø§ÛŒØ´
  adminChatId    BigInt? // Ú†Øª Ø§Ø¯Ù…ÛŒÙ† Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ±Ø§ÛŒØ´

  @@map("PendingProductionLine")
}

model Car {
  id        Int      @id @default(autoincrement())
  ownerId   BigInt
  name      String
  imageUrl  String
  price     Int
  count     Int      @default(15) // ğŸ‘ˆ ØªØ¹Ø¯Ø§Ø¯ Ø®ÙˆØ¯Ø±Ùˆ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡
  lineId    Int      @default(0)
  createdAt DateTime @default(now())
}

model PendingBuilding {
  id        Int      @id @default(autoincrement())
  userId    BigInt
  carName   String
  imageUrl  String
  createdAt DateTime @default(now())
}
