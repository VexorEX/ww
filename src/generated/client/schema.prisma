// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/client" // optional: client رو در src بساز برای import آسان
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  userid       BigInt @id
  country      String
  countryName  String // نام کشور + ایموجی
  level        Int    @default(0)
  rank         Int    @default(0)
  government   String
  religion     String @default("islam")
  crowd        BigInt @default(15000000)
  capital      BigInt @default(150000000)
  dailyProfit  BigInt @default(100000000)
  satisfaction Int    @default(80)
  security     Int    @default(80)
  lottery      Int    @default(0)

  // منابع
  oil         Int @default(0)
  iron        Int @default(0)
  gold        Int @default(0)
  uranium     Int @default(0)
  goldMine    Int @default(0)
  uraniumMine Int @default(0)
  ironMine    Int @default(0)
  refinery    Int @default(0)

  // ارتش پایه
  soldier   Int @default(0)
  tank      Int @default(0)
  heavyTank Int @default(0)

  // جنگنده‌ها
  su57 Int @default(0)
  f47  Int @default(0)
  f35  Int @default(0)
  j20  Int @default(0)
  f16  Int @default(0)
  f22  Int @default(0)
  am50 Int @default(0)
  b2   Int @default(0)
  tu16 Int @default(0)

  // پهپادها
  espionageDrone Int @default(0)
  suicideDrone   Int @default(0)
  crossDrone     Int @default(0)
  witnessDrone   Int @default(0)

  // موشک‌ها
  simpleRocket      Int @default(0)
  crossRocket       Int @default(0)
  dotTargetRocket   Int @default(0)
  continentalRocket Int @default(0)
  ballisticRocket   Int @default(0)
  chemicalRocket    Int @default(0)
  hyperSonicRocket  Int @default(0)
  clusterRocket     Int @default(0)

  // کشتی‌های دریایی
  battleship       Int @default(0)
  marineShip       Int @default(0)
  breakerShip      Int @default(0)
  nuclearSubmarine Int @default(0)

  // دفاع
  antiRocket Int @default(0)
  ironDome   Int @default(0)
  s400       Int @default(0)
  taad       Int @default(0)
  hq9        Int @default(0)
  acash      Int @default(0)

  @@map("users")
}

model ProductionLine {
  id            Int      @id @default(autoincrement())
  ownerId       BigInt
  country       String
  name          String
  type          String // مثل 'car', 'game', 'movie'
  imageUrl      String
  imageFileId   String
  dailyLimit    Int
  setupCost     BigInt
  createdAt     DateTime @default(now())
  carName       String?
  unitPrice     Int? // فقط برای خودرو
  profitPercent Int? // فقط برای پروژه‌های عمرانی
}

model PendingProductionLine {
  id            Int      @id @default(autoincrement()) // ← اضافه کن
  ownerId       BigInt
  name          String
  type          String
  imageUrl      String
  imageFileId   String
  description   String
  dailyLimit    Int
  setupCost     BigInt
  country       String
  profitPercent Int?
  createdAt     DateTime @default(now()) // ← اضافه کن

  @@map("PendingProductionLine")
}

model Car {
  id        Int      @id @default(autoincrement())
  ownerId   BigInt
  name      String
  imageUrl  String
  price     Int
  createdAt DateTime @default(now())
}

model PendingBuilding {
  id        Int      @id @default(autoincrement())
  userId    BigInt
  carName   String
  imageUrl  String
  createdAt DateTime @default(now())
}
